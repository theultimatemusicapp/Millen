<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Explore global music venues and radio stations to connect your music with the right audience.">
    <title>Venues & Radio Directory - Music Revolution</title>

    <!-- External CSS -->
    <link rel="stylesheet" href="venues-style.css">

    <!-- Font Awesome Icons -->
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

    <!-- Global Stylesheet -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header -->
    <header class="main-header">
        <nav class="nav-container container">
            <div class="logo">
                <a href="index.html">Music<span>Revolution</span></a>
            </div>
            <ul class="nav-links" id="primary-navigation">
                <li><a href="index.html">Home</a></li>
                <li><a href="venues.html" class="active">Venues</a></li>
                <li><a href="resources.html">Resources</a></li>
                <li><a href="contact.html">Contact</a></li>
                <li><a href="community.html">Community</a></li>
            </ul>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-overlay"></div>
        <div class="hero-content container">
            <h1>Explore Music Venues & Radio Stations</h1>
            <p>Find the perfect venues to perform and radio stations to broadcast your sound worldwide.</p>
        </div>
    </section>

    <!-- Venues Section -->
    <section class="venues container">
        <h2>Global Venue Directory</h2>
        <p>Browse venues that support live, original music with capacities ranging from small grassroots spaces to mid-sized halls.</p>

        <!-- Filters -->
        <div class="filters">
            <select id="countrySelect">
                <option value="">Select Country</option>
            </select>
            <select id="stateSelect" disabled>
                <option value="">Select State/Province</option>
            </select>
            <select id="citySelect" disabled>
                <option value="">Select City</option>
            </select>
        </div>

        <!-- Venue Listings -->
        <div id="venueList" class="listing-grid">
            <p>Select a country, state, and city to view venues.</p>
        </div>
    </section>

    <!-- Radio Stations Section -->
    <section class="radio-stations container">
        <h2>Global Radio Stations</h2>
        <p>Connect with radio stations worldwide to expand your musicâ€™s reach.</p>

        <!-- Filters -->
        <div class="filters">
            <select id="radioCountrySelect">
                <option value="">Select Country</option>
            </select>
            <select id="radioStateSelect" disabled>
                <option value="">Select State/Province</option>
            </select>
            <select id="radioCitySelect" disabled>
                <option value="">Select City</option>
            </select>
        </div>

        <!-- Radio Listings -->
        <div id="radioList" class="listing-grid">
            <p>Select a country, state, and city to view radio stations.</p>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container footer-flex">
            <p>&copy; 2024 MusicRevolution. All rights reserved.</p>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="venues-data.js"></script> <!-- External file for venues and radio data -->
    <script>
        // Selectors for venues
        const countrySelect = document.getElementById('countrySelect');
        const stateSelect = document.getElementById('stateSelect');
        const citySelect = document.getElementById('citySelect');
        const venueList = document.getElementById('venueList');

        // Selectors for radio stations
        const radioCountrySelect = document.getElementById('radioCountrySelect');
        const radioStateSelect = document.getElementById('radioStateSelect');
        const radioCitySelect = document.getElementById('radioCitySelect');
        const radioList = document.getElementById('radioList');

        // Populate dropdowns
        function populateDropdown(selectElement, items, defaultText) {
            selectElement.innerHTML = `<option value="">${defaultText}</option>`;
            items.forEach(item => {
                selectElement.innerHTML += `<option value="${item}">${item}</option>`;
            });
        }

        // Get unique values for dropdowns
        function getUniqueValues(data, key, filters = {}) {
            let filtered = data;
            if (filters.country) filtered = filtered.filter(v => v.country === filters.country);
            if (filters.state) filtered = filtered.filter(v => v.state === filters.state);
            return [...new Set(filtered.map(v => v[key]))].sort();
        }

        // Display listings (for venues and radio stations)
        function displayListings(data, container, country, state, city) {
            const filtered = data.filter(item =>
                item.country === country && item.state === state && item.city === city
            );

            if (filtered.length === 0) {
                container.innerHTML = '<p>No entries found for this location.</p>';
                return;
            }

            container.innerHTML = filtered.map(item => `
                <div class="listing-card">
                    <h3>${item.name}</h3>
                    <p><strong>Address:</strong> ${item.address}</p>
                    <p><strong>Website:</strong> <a href="${item.website}" target="_blank">${item.website}</a></p>
                    <p><strong>Phone:</strong> ${item.phone}</p>
                </div>
            `).join('');
        }

        // Initialize dropdowns
        document.addEventListener('DOMContentLoaded', () => {
            const venueCountries = getUniqueValues(venues, 'country');
            populateDropdown(countrySelect, venueCountries, 'Select Country');

            const radioCountries = getUniqueValues(radioStations, 'country');
            populateDropdown(radioCountrySelect, radioCountries, 'Select Country');
        });

        // Venue dropdown logic
        countrySelect.addEventListener('change', () => {
            const selectedCountry = countrySelect.value;
            if (selectedCountry) {
                const states = getUniqueValues(venues, 'state', { country: selectedCountry });
                populateDropdown(stateSelect, states, 'Select State/Province');
                stateSelect.disabled = false;
                citySelect.innerHTML = '<option value="">Select City</option>';
                citySelect.disabled = true;
                venueList.innerHTML = '<p>Select a state and city to view venues.</p>';
            } else {
                stateSelect.innerHTML = '<option value="">Select State/Province</option>';
                citySelect.innerHTML = '<option value="">Select City</option>';
                stateSelect.disabled = true;
                citySelect.disabled = true;
                venueList.innerHTML = '<p>Select a country, state, and city to view venues.</p>';
            }
        });

        stateSelect.addEventListener('change', () => {
            const selectedCountry = countrySelect.value;
            const selectedState = stateSelect.value;
            if (selectedState) {
                const cities = getUniqueValues(venues, 'city', { country: selectedCountry, state: selectedState });
                populateDropdown(citySelect, cities, 'Select City');
                citySelect.disabled = false;
                venueList.innerHTML = '<p>Select a city to view venues.</p>';
            } else {
                citySelect.innerHTML = '<option value="">Select City</option>';
                citySelect.disabled = true;
                venueList.innerHTML = '<p>Select a state and city to view venues.</p>';
            }
        });

        citySelect.addEventListener('change', () => {
            const selectedCountry = countrySelect.value;
            const selectedState = stateSelect.value;
            const selectedCity = citySelect.value;
            if (selectedCity) {
                displayListings(venues, venueList, selectedCountry, selectedState, selectedCity);
            } else {
                venueList.innerHTML = '<p>Select a city to view venues.</p>';
            }
        });

        // Radio station dropdown logic
        radioCountrySelect.addEventListener('change', () => {
            const selectedCountry = radioCountrySelect.value;
            if (selectedCountry) {
                const states = getUniqueValues(radioStations, 'state', { country: selectedCountry });
                populateDropdown(radioStateSelect, states, 'Select State/Province');
                radioStateSelect.disabled = false;
                radioCitySelect.innerHTML = '<option value="">Select City</option>';
                radioCitySelect.disabled = true;
                radioList.innerHTML = '<p>Select a state and city to view radio stations.</p>';
            } else {
                radioStateSelect.innerHTML = '<option value="">Select State/Province</option>';
                radioCitySelect.innerHTML = '<option value="">Select City</option>';
                radioStateSelect.disabled = true;
                radioCitySelect.disabled = true;
                radioList.innerHTML = '<p>Select a country, state, and city to view radio stations.</p>';
            }
        });

        radioStateSelect.addEventListener('change', () => {
            const selectedCountry = radioCountrySelect.value;
            const selectedState = radioStateSelect.value;
            if (selectedState) {
                const cities = getUniqueValues(radioStations, 'city', { country: selectedCountry, state: selectedState });
                populateDropdown(radioCitySelect, cities, 'Select City');
                radioCitySelect.disabled = false;
                radioList.innerHTML = '<p>Select a city to view radio stations.</p>';
            } else {
                radioCitySelect.innerHTML = '<option value="">Select City</option>';
                radioCitySelect.disabled = true;
                radioList.innerHTML = '<p>Select a state and city to view radio stations.</p>';
            }
        });

        radioCitySelect.addEventListener('change', () => {
            const selectedCountry = radioCountrySelect.value;
            const selectedState = radioStateSelect.value;
            const selectedCity = radioCitySelect.value;
            if (selectedCity) {
                displayListings(radioStations, radioList, selectedCountry, selectedState, selectedCity);
            } else {
                radioList.innerHTML = '<p>Select a city to view radio stations.</p>';
            }
        });
    </script>
</body>
</html>
